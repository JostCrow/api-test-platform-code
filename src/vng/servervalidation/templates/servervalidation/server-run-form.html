{% extends 'master.html' %}
{% load sniplates %}
{% load django_bootstrap_breadcrumbs %}
{% load i18n %}

{% block title %}{% trans "Providers" %}{% endblock %}

{% block breadcrumb %}
{% breadcrumb "Environments" 'server_run:environment_list' api.id %}
{% breadcrumb "Start new provider test" 'server_run:test-scenario_list' object.api.id %}
{% render_breadcrumbs 'components/breadcrumbs/breadcrumbs.html' %}
{% endblock %}

{% block content %}
<div id="ui-view">
    <div class="row">
        <div class="col-sm-8 offset-sm-2">
            <form class="" method="post">{% csrf_token %}
                <div class="card">
                    <div class="card-header">
                        {% trans "Providers" %}
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{% trans "Start a new provider-test for " %} {{api.name}}</h5>
                        {% load_widgets form='forms.html' %}

                        {% for field in form %}
                            {% if field.name == 'test_scenario' %}
                                <div id='id_test_scenario' style="padding:20px">
                                    {% for radio in field %}
                                        <div class='row'>
                                            {{radio.tag}}&nbsp;{{ radio.choice_label.name }}
                                            [<a href="{% url 'server_run:testscenario-detail' api.id radio.choice_label.pk  %}">info</a>]
                                        </div>
                                    {% endfor %}
                                </div>
                        {% else %}
                            {% form_field field %}
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="card-footer">
                        <div class="row">
                            <div class="col-auto mr-auto">
                                <button class="btn btn-sm btn-primary" type="submit">
                                    <i class="fa fa-dot-circle-o"></i>{% trans "Submit" %}</button>
                            </div>
                            <div class="col-auto">
                                <button class="btn btn-sm btn-danger" type="reset">
                                    <i class="fa fa-ban"></i>{% trans "Reset" %}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    {% endblock %}

